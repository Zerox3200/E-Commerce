"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[208],{208:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var c=r(9060),s=r(8372),a=r(8807);class n extends Error{}function i(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return atob(t)}}n.prototype.name="InvalidTokenError";var o=r(6756),l=r(3772),d=r(2496);function h(){const[e,t]=(0,c.useState)(!1),{UserToken:r}=(0,c.useContext)(o.U),[h,m]=(0,c.useState)(),{data:u,isLoading:p,isError:f}=(0,a.useQuery)("Orders",(async()=>await s.c.get("https://ecommerce.routemisr.com/api/v1/orders/user/".concat(h)).catch((()=>t(!1)))),{refetchOnReconnect:!0,refetchOnWindowFocus:!0,enabled:e});return(0,c.useEffect)((()=>{if(r){const e=function(e,t){if("string"!==typeof e)throw new n("Invalid token specified: must be a string");t||(t={});const r=!0===t.header?0:1,c=e.split(".")[r];if("string"!==typeof c)throw new n("Invalid token specified: missing part #".concat(r+1));let s;try{s=i(c)}catch(a){throw new n("Invalid token specified: invalid base64 for part #".concat(r+1," (").concat(a.message,")"))}try{return JSON.parse(s)}catch(a){throw new n("Invalid token specified: invalid json for part #".concat(r+1," (").concat(a.message,")"))}}(r);m(e.id),t(!0)}else m(null),t(!1)}),[r]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"Orders container",children:p?(0,d.jsx)(l.c,{}):0===(null===u||void 0===u?void 0:u.data.length)||f?(0,d.jsx)("div",{className:"Empty",children:(0,d.jsx)("h1",{children:"Your WishList is empty"})}):null===u||void 0===u?void 0:u.data.map(((e,t)=>(0,d.jsxs)("div",{className:"Order mt-2 row gap-2 p-3",children:[(0,d.jsxs)("h1",{className:"Main_Title",children:["Total Price : ",e.totalOrderPrice," EG"]}),e.cartItems.map(((e,t)=>(0,d.jsx)("div",{className:"card col-xl-5 col-md-8",children:(0,d.jsxs)("div",{className:"row g-0",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsx)("img",{src:e.product.imageCover,className:"img-fluid rounded-start",alt:"..."})}),(0,d.jsx)("div",{className:"col-md-8",children:(0,d.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center h-100",children:[(0,d.jsx)("h1",{className:"card-title h5",children:e.product.title}),(0,d.jsxs)("p",{className:"card-text Price",children:["Price: ",e.price," EG"]})]})})]})},t)))]},t)))})})}}}]);
//# sourceMappingURL=208.9ada077b.chunk.js.map